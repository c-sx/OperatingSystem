```txt
实验六  磁盘调度算法
【实验学时】4学时
【实验目的】通过这次实验，加深对磁盘调度算法的理解，进一步掌握先来先服务FCFS、最短寻道时间优先SSTF、SCAN和循环SCAN算法的实现方法。
【实验内容】
问题描述：
设计程序模拟先来先服务FCFS、最短寻道时间优先SSTF、SCAN和循环SCAN算法的工作过程。假设有n个磁道号所组成的磁道访问序列，给定开始磁道号m和磁头移动的方向（正向或者反向），分别利用不同的磁盘调度算法访问磁道序列，给出每一次访问的磁头移动距离，计算每种算法的平均寻道长度。
程序要求：
1）利用先来先服务FCFS、最短寻道时间优先SSTF、SCAN和循环SCAN算法模拟磁道访问过程。
2）模拟四种算法的磁道访问过程，给出每个磁道访问的磁头移动距离。
3）输入：磁道个数n和磁道访问序列，开始磁道号m和磁头移动方向（对SCAN和循环SCAN算法有效），算法选择1-FCFS，2-SSTF，3-SCAN，4-循环SCAN。
4）输出：每种算法的平均寻道长度。
实现提示：
用C++语言实现提示：
1）程序中变量定义参考（根据需要可添加）如下：
	const int MaxNumber=100;
	int  TrackOrder[MaxNumber];
	int  MoveDistance[MaxNumber];
	double  AverageDistance;
	bool direction;
2）页面置换的实现过程如下：
	变量初始化；
	接收用户输入磁道个数n和磁盘访问序列，选择算法1-FCFS，2-SSTF，3-SCAN，4-循环SCAN，输入开始磁盘号m和磁头移动方向；
	根据用户选择的算法进行磁道访问，输出磁盘调度算法的模拟过程；
	计算选择每次移动的磁头移动距离和算法的平均寻道长度；
	输出选择算法的平均寻道长度。
实验要求：
1）上机前认真复习磁盘调度算法，熟悉FCFS、SSTF、SCAN和循环SCAN算法的过程；
2）上机时独立编程、调试程序；
3）根据具体实验要求，完成好实验报告（包括实验的目的、内容、要求、源程序、实例运行结果截图、发现的问题以及解决方法）。
```

# 1、需求分析

1. **程序设计的任务和目的**

   通过这次实验，加深对磁盘调度算法的理解，进一步掌握先来先服务FCFS、最短寻道时间优先SSTF、SCAN和循环SCAN算法的实现方法。

2. **输入的形式和输入值的范围**

   磁道个数n和磁道访问序列，开始磁道号m和磁头移动方向（对SCAN和循环SCAN算法有效），算法选择1-FCFS，2-SSTF，3-SCAN，4-循环SCAN。

3. **输出的形式**

   每种算法的平均寻道长度。

4. **程序所能达到的功能**

   设计程序模拟先来先服务FCFS、最短寻道时间优先SSTF、SCAN和循环SCAN算法的工作过程。假设有n个磁道号所组成的磁道访问序列，给定开始磁道号m和磁头移动的方向（正向或者反向），分别利用不同的磁盘调度算法访问磁道序列，给出每一次访问的磁头移动距离，计算每种算法的平均寻道长度。

5. **测试数据，包括正确的输入及其输出结果和含有错误的输入及其输出结果**

   - 正确用例：
   
     - 输入：
   
       ```html
       请输入磁道个数TrackNum：9
       请输入开始磁盘号StartTrack：100
       请输入磁盘第1个访问磁道TrackOrder[1]：55
       请输入磁盘第2个访问磁道TrackOrder[2]：58
       请输入磁盘第3个访问磁道TrackOrder[3]：39
       请输入磁盘第4个访问磁道TrackOrder[4]：18
       请输入磁盘第5个访问磁道TrackOrder[5]：90
       请输入磁盘第6个访问磁道TrackOrder[6]：160
       请输入磁盘第7个访问磁道TrackOrder[7]：150
       请输入磁盘第8个访问磁道TrackOrder[8]：38
       请输入磁盘第9个访问磁道TrackOrder[9]：184
       
       请选择想要先使用的算法（ 1-FCFS，2-SSTF，3-SCAN，4-循环SCAN )：4
       请输入磁头移动方向direction（!0为向外，0为向内）：1
       您选择的磁头移动方向direction为：向外
       您选择的是4-循环SCAN算法
       ```
   
     - 输出
   
       ```html
       输出磁盘调度算法模拟过程如下：
       当前磁道为：100，下一磁道为：150，寻道方向：向外，寻道距离为： 50，至此平均寻道距离为：50.00
       当前磁道为：150，下一磁道为：160，寻道方向：向外，寻道距离为： 10，至此平均寻道距离为：30.00
       当前磁道为：160，下一磁道为：184，寻道方向：向外，寻道距离为： 24，至此平均寻道距离为：28.00
       当前磁道为：184，下一磁道为： 18，寻道方向：向外，寻道距离为：166，至此平均寻道距离为：62.50
       当前磁道为： 18，下一磁道为： 38，寻道方向：向外，寻道距离为： 20，至此平均寻道距离为：54.00
       当前磁道为： 38，下一磁道为： 39，寻道方向：向外，寻道距离为：  1，至此平均寻道距离为：45.17
       当前磁道为： 39，下一磁道为： 55，寻道方向：向外，寻道距离为： 16，至此平均寻道距离为：41.00
       当前磁道为： 55，下一磁道为： 58，寻道方向：向外，寻道距离为：  3，至此平均寻道距离为：36.25
       当前磁道为： 58，下一磁道为： 90，寻道方向：向外，寻道距离为： 32，至此平均寻道距离为：35.78
       
       输出磁盘调度算法模拟表格如下：
       
                          Simulate  1    Simulate  2    Simulate  3    Simulate  4    Simulate  5    Simulate  6    Simulate  7    Simulate  8    Simulate  9
       TrackIndex                 100            150            160            184             18             38             39             55             58
       TrackNext                  150            160            184             18             38             39             55             58             90
       Direction              Outward        Outward        Outward        Outward        Outward        Outward        Outward        Outward        Outward
       MoveDistance                50             10             24            166             20              1             16              3             32
       AverageDistance          50.00          30.00          28.00          62.50          54.00          45.17          41.00          36.25          35.78
       算法平均寻道长度为：35.78
       ```
   
   - 错误用例
   
     - 输入
   
       ```
       
       ```
   
     - 输出
   
       ```
       
       ```

# 2、概要设计

1. **抽象数据类型的定义**

   ```c++
   int TrackNum;//磁道数
   int TrackOrder[MaxNumber];//磁盘访问序列
   //    int MoveDistance[MaxNumber];//磁头移动距离
   //    double AverageDistance;//平均寻道长度
   bool direction;//磁头移动方向
   int isAlgorithm;//算法选择
   int StartTrack;//开始磁盘号
   
   //定义模拟过程的数据结构
   typedef struct {
       int TrackIndex;//当前磁道
       int TrackNext;//下一个磁道
       bool Direction;//磁头移动方向
       int MoveDistance;//磁头移动距离
       double AverageDistance;//平均寻道长度
   } Simulate;
   
   //定义移动距离数据结构
   typedef struct {
       int TrackIndex;//磁道
       int MoveDistance;//磁头移动距离
   } Distance;
   ```

2. **主程序的流程**

   

3. **各程序模块之间的层次(调用)关系**

   

# 3、详细设计

**实现程序模块的具体算法**

# 4、调试分析

1. **调试过程中遇到的问题以及解决方法，设计与实现的回顾讨论和分析**

   

2. **算法的性能分析(包括基本操作和其它算法的时间复杂度和空间复杂度的分析)及其改进设想**

   

# 5、用户使用说明

**使用说明**



# 6、测试结果

**测试结果，包括输入和输出**



# 7、附录

**带注释的源程序**

